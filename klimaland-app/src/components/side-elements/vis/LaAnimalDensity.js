import React, { useRef, useLayoutEffect, useState } from 'react';

const LandDenisty = ({ currentData, currentIndicator, currentSection, lkData, isThumbnail }) => {
  // getting sizes of container for maps
  const targetRef = useRef();
  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });

  useLayoutEffect(() => {
    if (targetRef.current) {
      setDimensions({
        width: targetRef.current.offsetWidth,
        height: targetRef.current.offsetHeight,
      });
    }
  }, []);

  // inital variables
  const marginWidth = Math.round(dimensions.width / 10);
  const marginHeight = Math.round(dimensions.height / 10);
  const radius = isThumbnail ? Math.ceil(dimensions.width / 80) : Math.ceil(dimensions.width / 100);

  return (
    <div className={`animal-density vertical-layout ${isThumbnail ? 'is-thumbnail' : ''}`}>
      <div className="description">
        <div className="title">
          <h3>Wie viele Tiere pro Fläche leben im Durchschnitt in {lkData}?</h3>
        </div>
        <div className="caption">
          <p>
            Um die Anzahl verschiedener Tiere vergleichen zu können, gibt es die{' '}
            <span>Großvieheinheit (GV)</span>. Sie entspricht in etwa 500kg also 640 Legehennen oder
            10 Schafen oder 8 Schweinen oder einem Rind.
          </p>
        </div>
        <div className="legend">
          <svg height="180px">
            <g>
              <path d="M17 0L17 17L-1.05984e-07 17L-7.62939e-06 6.60564e-07L17 0Z" fill="#E14552" />
              <path
                d="M-7.62939e-06 6.60564e-07L7.08333 0L9.91667 0L17 0L17 7.08333L17 9.91667L17 17L9.91667 17L7.08333 17L-1.05984e-07 17L8.12377e-07 9.91667L9.09514e-07 7.08333L-7.62939e-06 6.60564e-07Z"
                fill="#E14552"
              />
              <path
                d="M-0.176784 0.176778L3.36489 3.71844L3.71844 3.36489L0.176769 -0.176776L-0.176784 0.176778ZM3.36489 3.71844L8.32322 8.67678L8.67678 8.32322L3.71844 3.36489L3.36489 3.71844ZM8.32322 8.67678L13.2816 13.6351L13.6351 13.2816L8.67678 8.32322L8.32322 8.67678ZM13.2816 13.6351L16.8232 17.1768L17.1768 16.8232L13.6351 13.2816L13.2816 13.6351ZM16.8232 -0.176777L13.2816 3.36489L13.6351 3.71844L17.1768 0.176777L16.8232 -0.176777ZM13.2816 3.36489L8.32322 8.32322L8.67678 8.67678L13.6351 3.71844L13.2816 3.36489ZM8.32322 8.32322L3.36489 13.2816L3.71844 13.6351L8.67678 8.67678L8.32322 8.32322ZM3.36489 13.2816L-0.176777 16.8232L0.176777 17.1768L3.71844 13.6351L3.36489 13.2816ZM6.90656 -0.176777L3.36489 3.36489L3.71844 3.71844L7.26011 0.176777L6.90656 -0.176777ZM3.36489 3.36489L-0.176776 6.90656L0.176778 7.26011L3.71844 3.71844L3.36489 3.36489ZM-0.176776 10.0934L3.36489 13.6351L3.71844 13.2816L0.176777 9.73989L-0.176776 10.0934ZM3.36489 13.6351L6.90656 17.1768L7.26011 16.8232L3.71844 13.2816L3.36489 13.6351ZM10.0934 17.1768L13.6351 13.6351L13.2816 13.2816L9.73989 16.8232L10.0934 17.1768ZM13.6351 13.6351L17.1768 10.0934L16.8232 9.73989L13.2816 13.2816L13.6351 13.6351ZM17.1768 6.90656L13.6351 3.36489L13.2816 3.71844L16.8232 7.26011L17.1768 6.90656ZM13.6351 3.36489L10.0934 -0.176777L9.73989 0.176777L13.2816 3.71844L13.6351 3.36489ZM17 0L17.5 -1.94284e-08L17.5 -0.5L17 -0.5L17 0ZM17 17L17 17.5L17.5 17.5L17.5 17L17 17ZM-1.05984e-07 17L-0.5 17L-0.5 17.5L1.15293e-07 17.5L-1.05984e-07 17ZM-7.62939e-06 6.60564e-07L-7.87787e-06 -0.499999L-0.500008 -0.499999L-0.500008 6.79993e-07L-7.62939e-06 6.60564e-07ZM7.08333 0L7.08333 -0.5L7.08333 -0.5L7.08333 0ZM9.09514e-07 7.08333L0.500001 7.08333L0.500001 7.08333L9.09514e-07 7.08333ZM8.12377e-07 9.91667L0.500001 9.91667V9.91667L8.12377e-07 9.91667ZM17 9.91667L16.5 9.91667L16.5 9.91667L17 9.91667ZM17 7.08333L16.5 7.08333L17 7.08333ZM9.91667 0L9.91667 0.5L9.91667 0ZM16.5 1.94284e-08L16.5 17L17.5 17L17.5 -1.94284e-08L16.5 1.94284e-08ZM17 16.5L-3.27261e-07 16.5L1.15293e-07 17.5L17 17.5L17 16.5ZM0.5 17L0.499992 6.41136e-07L-0.500008 6.79993e-07L-0.5 17L0.5 17ZM-7.40812e-06 0.500001L17 0.5L17 -0.5L-7.85067e-06 -0.499999L-7.40812e-06 0.500001ZM7.08333 -0.5L-7.87787e-06 -0.499999L-7.38092e-06 0.500001L7.08333 0.5L7.08333 -0.5ZM0.500001 7.08333L0.499992 2.59666e-07L-0.500008 1.06146e-06L-0.499999 7.08333L0.500001 7.08333ZM0.5 17L0.500001 9.91667L-0.499999 9.91667L-0.5 17L0.5 17ZM0.500001 9.91667L0.500001 7.08333L-0.499999 7.08333L-0.499999 9.91667L0.500001 9.91667ZM7.08333 16.5L-3.27261e-07 16.5L1.15293e-07 17.5L7.08333 17.5L7.08333 16.5ZM17 16.5L9.91667 16.5L9.91667 17.5L17 17.5L17 16.5ZM9.91667 16.5L7.08333 16.5L7.08333 17.5L9.91667 17.5L9.91667 16.5ZM17.5 17L17.5 9.91667L16.5 9.91667L16.5 17L17.5 17ZM17.5 9.91667L17.5 7.08333L16.5 7.08333L16.5 9.91667L17.5 9.91667ZM17.5 7.08333L17.5 2.01848e-07L16.5 -2.01848e-07L16.5 7.08333L17.5 7.08333ZM17 -0.5L9.91667 -0.5L9.91667 0.5L17 0.5L17 -0.5ZM9.91667 -0.5L7.08333 -0.5L7.08333 0.5L9.91667 0.5L9.91667 -0.5Z"
                fill="#484848"
              />
              <text x="23" y="13">
                über 2 GV pro Hektar
              </text>
            </g>
            <g transform="translate(0, 30)">
              <path d="M17 0L17 17L-1.05984e-07 17L-7.62939e-06 6.60564e-07L17 0Z" fill="#FFBA4E" />
              <path d="M17 0L17 17L-1.05984e-07 17L4.76837e-07 0L17 0Z" fill="#FFBA4E" />
              <path
                d="M-0.176776 0.176777L8.32322 8.67678L8.67678 8.32322L0.176777 -0.176777L-0.176776 0.176777ZM8.32322 8.67678L16.8232 17.1768L17.1768 16.8232L8.67678 8.32322L8.32322 8.67678ZM16.8232 -0.176777L8.32322 8.32322L8.67678 8.67678L17.1768 0.176777L16.8232 -0.176777ZM8.32322 8.32322L-0.176777 16.8232L0.176777 17.1768L8.67678 8.67678L8.32322 8.32322ZM17 0L17.5 -1.94284e-08L17.5 -0.5L17 -0.5L17 0ZM17 17L17 17.5L17.5 17.5L17.5 17L17 17ZM-1.05984e-07 17L-0.5 17L-0.5 17.5L1.15293e-07 17.5L-1.05984e-07 17ZM-7.62939e-06 6.60564e-07L-7.85067e-06 -0.499999L-0.500008 -0.499999L-0.500008 6.79993e-07L-7.62939e-06 6.60564e-07ZM4.76837e-07 0L2.74988e-07 -0.5H-0.5L-0.5 -2.1899e-07L4.76837e-07 0ZM17 17L17 17.5L17.5 17.5L17.5 17L17 17ZM17 0L17.5 2.01849e-07L17.5 -0.5L17 -0.5L17 0ZM-1.05984e-07 17L-0.5 17L-0.5 17.5L1.15293e-07 17.5L-1.05984e-07 17ZM16.5 1.94284e-08L16.5 17L17.5 17L17.5 -1.94284e-08L16.5 1.94284e-08ZM17 16.5L-3.27261e-07 16.5L1.15293e-07 17.5L17 17.5L17 16.5ZM0.5 17L0.499992 6.41136e-07L-0.500008 6.79993e-07L-0.5 17L0.5 17ZM-7.40812e-06 0.500001L17 0.5L17 -0.5L-7.85067e-06 -0.499999L-7.40812e-06 0.500001ZM17.5 17L17.5 2.01849e-07L16.5 -2.01848e-07L16.5 17L17.5 17ZM0.5 17L0.5 2.18991e-07L-0.5 -2.1899e-07L-0.5 17L0.5 17ZM17 -0.5H2.74988e-07L6.78685e-07 0.5H17L17 -0.5ZM17 16.5L-3.27261e-07 16.5L1.15293e-07 17.5L17 17.5L17 16.5Z"
                fill="#484848"
              />
              <text x="23" y="13">
                unter 2 GV pro Hektar
              </text>
            </g>
          </svg>
        </div>
      </div>
      <div className="visualization-container" ref={targetRef}>
        <svg className="chart" width="100%" height="100%">
          <text x="100" y="100">
            Hello this will be the chart
          </text>
        </svg>
      </div>
    </div>
  );
};

export default LandDenisty;
